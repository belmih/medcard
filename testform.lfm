object Form1: TForm1
  Left = 290
  Height = 600
  Top = 26
  Width = 800
  Caption = 'Критерии'
  ClientHeight = 600
  ClientWidth = 800
  OnClose = FormClose
  OnCloseQuery = FormCloseQuery
  OnShow = FormShow
  LCLVersion = '1.8.0.6'
  object ToolBar1: TToolBar
    Left = 0
    Height = 26
    Top = 0
    Width = 800
    Caption = 'ToolBar1'
    Images = FormMain.imgList
    TabOrder = 0
    object DBNavigator1: TDBNavigator
      Left = 1
      Height = 22
      Top = 2
      Width = 137
      BevelOuter = bvNone
      ChildSizing.EnlargeHorizontal = crsScaleChilds
      ChildSizing.EnlargeVertical = crsScaleChilds
      ChildSizing.ShrinkHorizontal = crsScaleChilds
      ChildSizing.ShrinkVertical = crsScaleChilds
      ChildSizing.Layout = cclLeftToRightThenTopToBottom
      ChildSizing.ControlsPerLine = 100
      ClientHeight = 22
      ClientWidth = 137
      DataSource = dsResults
      Flat = True
      Options = []
      TabOrder = 0
      VisibleButtons = [nbFirst, nbPrior, nbNext, nbLast, nbPost, nbRefresh]
      Images = FormMain.imgListDBNavigator
    end
    object ToolButton1: TToolButton
      Left = 138
      Top = 2
      Action = FormMain.actCommit
      OnClick = ToolButton1Click
    end
    object ToolButton2: TToolButton
      Left = 161
      Top = 2
      Caption = 'ToolButton2'
      ImageIndex = 14
      OnClick = ToolButton2Click
    end
  end
  object gbQuestions: TGroupBox
    Left = 0
    Height = 126
    Top = 26
    Width = 800
    Align = alTop
    Caption = 'Список вопросов'
    ClientHeight = 106
    ClientWidth = 796
    TabOrder = 1
    object DBGrid1: TDBGrid
      Left = 0
      Height = 106
      Top = 0
      Width = 796
      Align = alClient
      AutoEdit = False
      Color = clWindow
      Columns = <      
        item
          Title.Caption = 'lvl'
          Width = 60
          FieldName = 'lvl'
        end      
        item
          Title.Caption = 'questiontext1'
          Width = 650
          FieldName = 'questiontext1'
        end      
        item
          Title.Caption = 'points'
          Width = 50
          FieldName = 'points'
        end>
      DataSource = dsResults
      ReadOnly = True
      TabOrder = 0
      OnCellClick = DBGrid1CellClick
      OnColEnter = DBGrid1ColEnter
      OnMouseDown = DBGrid1MouseDown
      OnMouseUp = DBGrid1MouseUp
      OnPrepareCanvas = DBGrid1PrepareCanvas
    end
  end
  object StatusBar1: TStatusBar
    Left = 0
    Height = 23
    Top = 577
    Width = 800
    Panels = <>
  end
  object Panel1: TPanel
    Left = 376
    Height = 425
    Top = 152
    Width = 424
    Align = alClient
    Caption = 'Panel1'
    ClientHeight = 425
    ClientWidth = 424
    TabOrder = 3
    object GroupBox2: TGroupBox
      Left = 1
      Height = 303
      Top = 1
      Width = 422
      Align = alClient
      Caption = 'Список ответов'
      ClientHeight = 283
      ClientWidth = 418
      TabOrder = 0
      object DBGrid2: TDBGrid
        Left = 0
        Height = 218
        Top = 0
        Width = 418
        Align = alClient
        AutoEdit = False
        Color = clWindow
        Columns = <        
          item
            Title.Caption = 'answtext1'
            Width = 280
            FieldName = 'answtext1'
          end        
          item
            Title.Caption = 'points'
            Width = 60
            FieldName = 'points'
          end>
        DataSource = dsResultAnswers
        ReadOnly = True
        TabAdvance = aaDown
        TabOrder = 0
        OnCellClick = DBGrid2CellClick
        OnPrepareCanvas = DBGrid2PrepareCanvas
      end
      object DBMemo3: TDBMemo
        Left = 0
        Height = 65
        Top = 218
        Width = 418
        Align = alBottom
        DataField = 'answertext'
        DataSource = dsResultAnswers
        ReadOnly = True
        TabOrder = 1
      end
    end
    object GroupBox3: TGroupBox
      Left = 1
      Height = 120
      Top = 304
      Width = 422
      Align = alBottom
      Caption = 'Комментарий'
      ClientHeight = 100
      ClientWidth = 418
      TabOrder = 1
      object DBMemo2: TDBMemo
        Left = 0
        Height = 100
        Top = 0
        Width = 418
        Align = alClient
        DataField = 'comment'
        DataSource = dsResults
        TabOrder = 0
      end
    end
  end
  object GroupBox4: TGroupBox
    Left = 0
    Height = 425
    Top = 152
    Width = 376
    Align = alLeft
    Caption = 'Вопрос'
    ClientHeight = 405
    ClientWidth = 372
    TabOrder = 4
    object DBMemo1: TDBMemo
      Left = 0
      Height = 405
      Top = 0
      Width = 372
      Align = alClient
      DataField = 'questiontext'
      DataSource = dsResults
      OnChange = DBMemo1Change
      TabOrder = 0
    end
  end
  object qResults: TSQLQuery
    FieldDefs = <    
      item
        Name = 'id'
        DataType = ftAutoInc
        Precision = -1
      end    
      item
        Name = 'lvl'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'questiontext'
        DataType = ftMemo
        Precision = -1
      end    
      item
        Name = 'questiontext1'
        DataType = ftString
        Precision = -1
        Size = 255
      end    
      item
        Name = 'comment'
        DataType = ftMemo
        Precision = -1
      end    
      item
        Name = 'points'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'question_id'
        DataType = ftInteger
        Precision = -1
      end>
    AfterRefresh = qResultsAfterRefresh
    Database = FormMain.SQLite3Conn
    Transaction = FormMain.SQLTransaction
    SQL.Strings = (
      'select id,'
      '       lvl || '''' as lvl,'
      '       questiontext,'
      '       questiontext || '''' as questiontext1,'
      '       comment,'
      '       points,'
      '       question_id'
      '  from results'
      ' where action_id = :a'
      ''
    )
    UpdateSQL.Strings = (
      'update results set points=:points'
      'where id = :id'
    )
    Params = <    
      item
        DataType = ftUnknown
        Name = 'a'
        ParamType = ptInput
      end>
    left = 160
    top = 184
  end
  object dsResults: TDataSource
    DataSet = qResults
    OnDataChange = dsResultsDataChange
    OnUpdateData = dsResultsUpdateData
    left = 48
    top = 184
  end
  object qResultsAnswers: TSQLQuery
    FieldDefs = <    
      item
        Name = 'id'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'results_id'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'answertext'
        DataType = ftMemo
        Precision = -1
      end    
      item
        Name = 'points'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'answtext1'
        DataType = ftString
        Precision = -1
        Size = 255
      end>
    Database = FormMain.SQLite3Conn
    Transaction = FormMain.SQLTransaction
    SQL.Strings = (
      'select id,'
      '       results_id,'
      '       answertext,'
      '       points,'
      '       answertext || '''' as answtext1'
      '  from results_answer'
      ' where results_id = :id'
      ''
    )
    Params = <    
      item
        DataType = ftInteger
        Name = 'id'
        ParamType = ptInput
      end>
    DataSource = dsResults
    left = 160
    top = 264
  end
  object dsResultAnswers: TDataSource
    DataSet = qResultsAnswers
    OnDataChange = dsResultAnswersDataChange
    left = 48
    top = 264
  end
end
